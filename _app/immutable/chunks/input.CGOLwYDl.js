import{h as v,q,L as B,g as N,b as E,i as M,d as z}from"./index-client.CbWOD79m.js";import{a as D,i as G,c as K,d as P,b as R,n as S,e as V,l as Y}from"./utils.C2s_CC8S.js";function H(s){if(v){var r=!1,a=()=>{if(!r){if(r=!0,s.hasAttribute("value")){var _=s.value;y(s,"value",null),s.value=_}if(s.hasAttribute("checked")){var e=s.checked;y(s,"checked",null),s.checked=e}}};s.__on_r=a,q(a),D()}}function y(s,r,a,_){var e=s.__attributes??(s.__attributes={});v&&(e[r]=s.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&s.nodeName==="LINK")||e[r]!==(e[r]=a)&&(r==="style"&&"__styles"in s&&(s.__styles={}),r==="loading"&&(s[B]=a),a==null?s.removeAttribute(r):typeof a!="string"&&$(s).includes(r)?s[r]=a:s.setAttribute(r,a))}function J(s,r,a,_,e=!1,t=!1,j=!1){var o=r||{},w=s.tagName==="OPTION";for(var g in r)g in a||(a[g]=null);var O=$(s),T=s.__attributes??(s.__attributes={});for(const f in a){let i=a[f];if(w&&f==="value"&&i==null){s.value=s.__value="",o[f]=i;continue}var b=o[f];if(i!==b){o[f]=i;var k=f[0]+f[1];if(k!=="$$"){if(k==="on"){const c={},n="$$"+f;let l=f.slice(2);var A=V(l);if(G(l)&&(l=l.slice(0,-7),c.capture=!0),!A&&b){if(i!=null)continue;s.removeEventListener(l,o[n],c),o[n]=null}if(i!=null)if(A)s[`__${l}`]=i,P([l]);else{let I=function(p){o[f].call(this,p)};o[n]=K(l,s,I,c)}}else if(f==="style"&&i!=null)s.style.cssText=i+"";else if(f==="autofocus")R(s,!!i);else if(f==="__value"||f==="value"&&i!=null)s.value=s[f]=s.__value=i;else{var u=f;e||(u=S(u)),i==null&&!t?(T[f]=null,s.removeAttribute(f)):O.includes(u)&&(t||typeof i!="string")?s[u]=i:typeof i!="function"&&(v&&(u==="src"||u==="href"||u==="srcset")||y(s,u,i))}f==="style"&&"__styles"in s&&(s.__styles={})}}}return o}var L=new Map;function $(s){var r=L.get(s.nodeName);if(r)return r;L.set(s.nodeName,r=[]);for(var a,_=N(s),e=Element.prototype;e!==_;){a=E(_);for(var t in a)a[t].set&&r.push(t);_=N(_)}return r}function Q(s,r,a=r){var _=M();Y(s,"input",()=>{var e=d(s)?h(s.value):s.value;a(e),_&&e!==(e=r())&&(s.value=e??"")}),z(()=>{var e=r();if(v&&s.defaultValue!==s.value){a(d(s)?h(s.value):s.value);return}d(s)&&e===h(s.value)||s.type==="date"&&!e&&!s.value||e!==s.value&&(s.value=e??"")})}function d(s){var r=s.type;return r==="number"||r==="range"}function h(s){return s===""?null:+s}export{J as a,Q as b,H as r,y as s};
